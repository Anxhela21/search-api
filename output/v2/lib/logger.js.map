{"version":3,"sources":["../../../src/v2/lib/logger.js"],"names":["logger","log4js","getLogger","log4jsConfig","process","env","LOG4JS_CONFIG","JSON","parse","undefined","configure","perfLog","startTime","timeLimit","functionName","suppMessage","stopTime","Date","now","warn"],"mappings":";;;;;;AASA;;;;;;AAEA,MAAMA,SAASC,iBAAOC,SAAP,CAAiB,QAAjB,CAAf,C,CAXA;;;;;;;;;AAaA,MAAMC,eAAeC,QAAQC,GAAR,CAAYC,aAAZ,GAA4BC,KAAKC,KAAL,CAAWJ,QAAQC,GAAR,CAAYC,aAAvB,CAA5B,GAAoEG,SAAzF;AACAR,iBAAOS,SAAP,CAAiBP,gBAAgB,oBAAjC;;AAEAH,OAAOW,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,YAAvB,EAAqCC,WAArC,KAAqD;AACpE,QAAMC,WAAWC,KAAKC,GAAL,EAAjB;AACA,MAAIF,WAAWJ,SAAX,GAAuBC,SAA3B,EAAsC;AACpCb,WAAOmB,IAAP,CAAa,UAASL,YAAa,SAAQE,WAAWJ,SAAU,OAAOG,WAAD,GAAiB,IAAGA,WAAY,EAAhC,GAAoC,EAAG,EAA7G;AACD;AACF,CALD;;kBAOef,M","file":"logger.js","sourcesContent":["/** *****************************************************************************\n * Licensed Materials - Property of IBM\n * (c) Copyright IBM Corporation 2019. All Rights Reserved.\n *\n * Note to U.S. Government Users Restricted Rights:\n * Use, duplication or disclosure restricted by GSA ADP Schedule\n * Contract with IBM Corp.\n ****************************************************************************** */\n\nimport log4js from 'log4js';\n\nconst logger = log4js.getLogger('server');\n\nconst log4jsConfig = process.env.LOG4JS_CONFIG ? JSON.parse(process.env.LOG4JS_CONFIG) : undefined;\nlog4js.configure(log4jsConfig || 'config/log4js.json');\n\nlogger.perfLog = (startTime, timeLimit, functionName, suppMessage) => {\n  const stopTime = Date.now();\n  if (stopTime - startTime > timeLimit) {\n    logger.warn(`Search ${functionName} took ${stopTime - startTime} ms.${(suppMessage) ? ` ${suppMessage}` : ''}`);\n  }\n};\n\nexport default logger;\n"]}