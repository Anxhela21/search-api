{"version":3,"sources":["../../../src/v2/schema/user-search.test.js"],"names":["describe","skip","test","done","server","post","GRAPHQL_PATH","send","query","end","err","res","expect","JSON","parse","text","toMatchSnapshot"],"mappings":";;AASA;;;;AACA;;;;;;AAVA;;;;;;;;;AAYAA,SAASC,IAAT,CAAc,qBAAd,EAAqC,MAAM;AACzCC,OAAK,uCAAL,EAA+CC,IAAD,IAAU;AACtD,6BAAUC,eAAV,EACGC,IADH,CACQC,mBADR,EAEGC,IAFH,CAEQ;AACJC,aAAQ;;;;;;;;;;AADJ,KAFR,EAcGC,GAdH,CAcO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,aAAOC,KAAKC,KAAL,CAAWH,IAAII,IAAf,CAAP,EAA6BC,eAA7B;AACAb;AACD,KAjBH;AAkBD,GAnBD;;AAqBAD,OAAK,4CAAL,EAAoDC,IAAD,IAAU;AAC3D,6BAAUC,eAAV,EACGC,IADH,CACQC,mBADR,EAEGC,IAFH,CAEQ;AACJC,aAAQ;;;;;;;;;;;;AADJ,KAFR,EAgBGC,GAhBH,CAgBO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,aAAOC,KAAKC,KAAL,CAAWH,IAAII,IAAf,CAAP,EAA6BC,eAA7B;AACAb;AACD,KAnBH;AAoBD,GArBD;;AAuBAD,OAAK,gDAAL,EAAwDC,IAAD,IAAU;AAC/D,6BAAUC,eAAV,EACGC,IADH,CACQC,mBADR,EAEGC,IAFH,CAEQ;AACJC,aAAQ;;;;;;;;;;AADJ,KAFR,EAcGC,GAdH,CAcO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACjBC,aAAOC,KAAKC,KAAL,CAAWH,IAAII,IAAf,CAAP,EAA6BC,eAA7B;AACAb;AACD,KAjBH;AAkBD,GAnBD;AAoBD,CAjED","file":"user-search.test.js","sourcesContent":["/** *****************************************************************************\n * Licensed Materials - Property of IBM\n * (c) Copyright IBM Corporation 2019. All Rights Reserved.\n *\n * Note to U.S. Government Users Restricted Rights:\n * Use, duplication or disclosure restricted by GSA ADP Schedule\n * Contract with IBM Corp.\n ****************************************************************************** */\n\nimport supertest from 'supertest';\nimport server, { GRAPHQL_PATH } from '../index';\n\ndescribe.skip('UserSearch Resolver', () => {\n  test('Correctly Resolves Saved Search Query', (done) => {\n    supertest(server)\n      .post(GRAPHQL_PATH)\n      .send({\n        query: `\n        {\n          savedSearches {\n            id\n            name\n            description\n            searchText\n          }\n        }\n      `,\n      })\n      .end((err, res) => {\n        expect(JSON.parse(res.text)).toMatchSnapshot();\n        done();\n      });\n  });\n\n  test('Correctly Resolves Saved Search Query Edit', (done) => {\n    supertest(server)\n      .post(GRAPHQL_PATH)\n      .send({\n        query: `\n        mutation {\n          saveSearch(\n            resource: {\n              id: \"1234567890\",\n              name: \"All deployments\",\n              description: \"Query for all deploys on hub cluster\",\n              searchText: \"kind:deployment cluster:local-cluster\"\n            }\n          )\n        }\n      `,\n      })\n      .end((err, res) => {\n        expect(JSON.parse(res.text)).toMatchSnapshot();\n        done();\n      });\n  });\n\n  test('Correctly Resolves Saved Search Query Deletion', (done) => {\n    supertest(server)\n      .post(GRAPHQL_PATH)\n      .send({\n        query: `\n        mutation {\n          deleteSearch(\n            resource: {\n              id: \"1234567890\",\n              name: \"All deployments\",\n            }\n          )\n        }\n      `,\n      })\n      .end((err, res) => {\n        expect(JSON.parse(res.text)).toMatchSnapshot();\n        done();\n      });\n  });\n});\n"]}